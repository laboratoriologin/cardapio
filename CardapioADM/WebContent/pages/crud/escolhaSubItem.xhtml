<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core">
	<h:form>

		<h:panelGrid style="padding: 15px;">

			<p:outputLabel for="menu" value="Categoria" />
			<p:selectOneMenu id="menu" value="#{escolhaSubItemFaces.categoriaSelecionada.id}" style="width:42.5%" styleClass="coluna90">
				<f:selectItem itemLabel="Não Selecionado" itemValue="" />
				<f:selectItems value="#{escolhaSubItemFaces.comboCategoria}" />
				<p:ajax event="change" update="item panel" listener="#{escolhaSubItemFaces.findItem}" />
			</p:selectOneMenu>

			<p:outputLabel for="item" value="Item" style="margin-top: 15px;" />
			<p:selectOneMenu id="item" value="#{escolhaSubItemFaces.itemSelecionado.id}" style="width:42.5%" styleClass="coluna90">
				<f:selectItem itemLabel="Não Selecionado" itemValue="" />
				<f:selectItems value="#{escolhaSubItemFaces.comboItem}" />
				<p:ajax event="change" update="panel" listener="#{escolhaSubItemFaces.findSubItem}" />
			</p:selectOneMenu>

			<p:panel id="panel" header="Selecione os sub-itens que deseja no seu aplicativo. Ordene as linhas de acordo com a exibição do aplicativo" style="width:85%; margin-top: 35px; margin-bottom: 15px;">

				<p:dataTable value="#{escolhaSubItemFaces.listSubItem}" var="subItem" style="width:90%">

					<p:column style="width:10%" headerText="Ativo?">
						<p:selectBooleanCheckbox value="#{subItem.flagAtivo}" />
					</p:column>
					<p:column style="width:60%" headerText="Item">
						#{subItem.nome}
					</p:column>

					<p:column style="width:15%" headerText="Ordem de exibição">
						<p:spinner value="#{subItem.ordem}" size="2" min="0" stepFactor="1" onkeyup="return Mascara(this,Integer)" />
					</p:column>

				</p:dataTable>

			</p:panel>

			<p:commandButton id="btnAlterar" value="Alterar" icon="salvar" action="#{escolhaSubItemFaces.updateEvent}" update="@form" style="height:28px; width: 110px;margin-left: 2px;" />

		</h:panelGrid>

	</h:form>


</ui:composition>