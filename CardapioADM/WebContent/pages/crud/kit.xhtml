<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/resources/templates/templateCRUD.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

	<ui:param name="mbean" value="${kitFaces}" />
	<ui:param name="mbeanModel" value="${kitFaces.crudModel}" />
	<ui:param name="mbeanPesquisaModel"
		value="${kitFaces.crudPesquisaModel}" />
	<ui:param name="reload" value="true" />

	<ui:define name="cadastro">

		<h:panelGrid columns="1" style="width:50%">

			<p:outputLabel for="nome" value="Nome" />
			<p:inputText id="nome" required="true"
				requiredMessage="Nome: Campo obrigatório" maxlength="50"
				value="#{mbeanModel.nome}" styleClass="coluna50" />

			<p:outputLabel for="descricao" value="Descrição" />
			<p:inputText id="descricao" required="true"
				requiredMessage="Descrição: Campo obrigatório" maxlength="50"
				value="#{mbeanModel.descricao}" styleClass="coluna50" />

			<p:outputLabel for="ordem" value="Ordem de Exibição" />
			<p:inputText id="ordem" required="true"
				onkeyup="return Mascara(this,Integer)"
				requiredMessage="Ordem: Campo obrigatório" maxlength="50"
				value="#{mbeanModel.ordem}" styleClass="coluna20" />

			<p:outputLabel for="desconto" value="Desconto" />
			<p:inputText id="desconto" required="true"
				onkeyup="return mascaraMoeda(this)"
				requiredMessage="Desconto: Campo obrigatório" maxlength="10"
				value="#{mbeanModel.desconto}" styleClass="coluna20">
				<f:convertNumber maxFractionDigits="2" locale="pt_BR"/>

			</p:inputText>

			<p:outputLabel for="flagAtivo" value="Ativo?" />
			<p:selectBooleanCheckbox id="flagAtivo"
				value="#{mbeanModel.flagAtivo}" />



			<p:fieldset legend="Imagem" style="width:95%">

				<p:fileUpload id="uploadArquivo" label="Adicionar Imagem"
					fileUploadListener="#{mbean.uploadMidias}" auto="true"
					multiple="false" allowTypes="/(\.|\/)(|jpe?g|png)$/"
					process="@this" style="width: 95%" />

				<br />
				<br />
				<br />
				<p:outputPanel autoUpdate="true">
					<img src="/arquivos_cardapio/#{mbeanModel.imagem}"
						style="max-height: 95px; max-width: 245px" alt="Categoria Imagem" />
				</p:outputPanel>
			</p:fieldset>

		</h:panelGrid>

	</ui:define>

	<ui:define name="pesquisaCampos">

		<h:panelGrid columns="1" style="width:50%">

			<p:outputLabel for="descricaoPesquisa" value="Descrição" />
			<p:inputText id="descricaoPesquisa"
				value="#{mbeanPesquisaModel.descricao}" styleClass="coluna90" />

		</h:panelGrid>

	</ui:define>

	<ui:define name="colunasTabela">

		<p:column headerText="Nome">
			<h:outputText value="#{linha.nome}" />
		</p:column>

		<p:column headerText="Descrição">
			<h:outputText value="#{linha.descricao}" />
		</p:column>

	</ui:define>


</ui:composition>