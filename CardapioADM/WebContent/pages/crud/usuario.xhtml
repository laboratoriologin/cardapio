<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/resources/templates/templateCRUD.xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core">

	<ui:param name="mbean" value="${usuarioFaces}" />
	<ui:param name="mbeanModel" value="${usuarioFaces.crudModel}" />
	<ui:param name="mbeanPesquisaModel" value="${usuarioFaces.crudPesquisaModel}" />
	<ui:param name="reload" value="true" />

	<ui:define name="cadastro">

		<h:panelGrid columns="1" style="width:50%">

			<p:outputLabel for="nome" value="Nome" />
			<p:inputText id="nome" required="true" requiredMessage="Nome Campo obrigatário" maxlength="50" value="#{mbeanModel.nome}" styleClass="coluna50" />

			<p:outputLabel for="login" value="Login" />
			<p:inputText id="login" required="true" requiredMessage="Login Campo obrigatário" maxlength="50" value="#{mbeanModel.login}" styleClass="coluna50" />

			<p:outputLabel for="itSenha" value="Senha" />
			<p:password id="itSenha" value="#{mbeanModel.senha}" weakLabel="Fraca" goodLabel="Boa" strongLabel="Forte" promptLabel="Digite a senha" match="itConfirmaSenha" minLength="4" style="width: 50%" required="true" requiredMessage="Senha: Obrigatório" feedback="true" />

			<p:outputLabel for="itConfirmaSenha" value="Confirmar Senha" />
			<p:password id="itConfirmaSenha" value="#{mbeanModel.confirmaSenha}" weakLabel="Fraca" goodLabel="Boa" strongLabel="Forte" promptLabel="Digite a senha" minLength="4" style="width: 50%" required="true" requiredMessage="Confirmar Senha: Obrigatório" />

			<p:outputLabel for="flagAtivo" value="Ativo?" />
			<p:selectBooleanCheckbox id="flagAtivo" value="#{mbeanModel.flagAtivo}" />

			<p:outputLabel for="grupo" value="Grupo de Usuário" />
			<p:selectOneMenu id="grupo" value="#{mbeanModel.grupoUsuario.id}" required="true" requiredMessage="Grupo de usuário obrigatório" style="width:55%">
				<f:selectItem itemLabel="Não Selecionado" itemValue="" />
				<f:selectItems value="#{mbean.comboGrupoUsuario}" />
			</p:selectOneMenu>

			<p:outputLabel for="rg" value="RG" />
			<p:inputText id="rg" required="true" requiredMessage="RG campo obrigatário" maxlength="50" value="#{mbeanModel.rg}" styleClass="coluna50" />

			<p:outputLabel for="cpf" value="CPF" />
			<p:inputText id="cpf" required="true" requiredMessage="CPF campo obrigatário" maxlength="50" value="#{mbeanModel.cpf}" styleClass="coluna50" />

			<p:outputLabel for="dataNascimento" value="Data Nascimento" />
			<p:calendar value="#{mbeanModel.dataNascimento}" pattern="dd/MM/yyyy" rendered="true" requiredMessage="Data nascimento campo obrigatário" navigator="true" id="dataNascimento" />

			<p:outputLabel for="endereco" value="Endereço" />
			<p:inputText id="endereco" required="true" requiredMessage="Endereco campo obrigatário" maxlength="50" value="#{mbeanModel.endereco}" styleClass="coluna75" />

			<h:panelGrid columns="1" style="width:100%; margin-top: 15px;">

				<p:tabView cache="false" activeIndex="0" id="tvEspec" style="width: 800;">

					<p:tab title="Contatos Pessoais">

						<h:panelGrid columns="1" style="width:100%">

							<p:outputLabel for="telefone" value="Telefone" />
							<p:inputText id="telefone" required="true" requiredMessage="Telefone Campo obrigatário" maxlength="50" value="#{mbeanModel.telefone}" styleClass="coluna50" />

							<p:outputLabel for="celular" value="Celular" />
							<p:inputText id="celular" required="true" requiredMessage="Celular Campo obrigatário" maxlength="50" value="#{mbeanModel.celular}" styleClass="coluna50" />

							<p:outputLabel for="email" value="E-mail" />
							<p:inputText id="email" value="#{mbeanModel.email}" style="width: 95%" validatorMessage="E-mail inválido">
								<f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
							</p:inputText>

						</h:panelGrid>

					</p:tab>

					<p:tab title="Outros Contatos">

						<h:panelGrid columns="1" style="width:100%">

							<p:outputLabel for="contato" value="Contatos de urgência" />
							<p:inputText id="contato" required="true" requiredMessage="Contato Campo obrigatário" maxlength="50" value="#{mbeanModel.contato}" styleClass="coluna50" />

							<p:outputLabel for="telefoneContato" value="Telefone do Contato" />
							<p:inputText id="telefoneContato" required="true" requiredMessage="Telefone do contato Campo obrigatário" maxlength="50" value="#{mbeanModel.telefoneContato}" styleClass="coluna50" />

						</h:panelGrid>

					</p:tab>

					<p:tab title="Setor">

						<p:dataTable value="#{mbean.listSetor}" var="setor" style="width:90%">

							<p:column style="width:10%">

								<p:selectBooleanCheckbox value="#{setor.selecionado}" />

							</p:column>

							<p:column style="width:60%" headerText="Categoria">
							
								#{setor.descricao}
								
							</p:column>

						</p:dataTable>

					</p:tab>

				</p:tabView>

			</h:panelGrid>

		</h:panelGrid>

	</ui:define>

	<ui:define name="pesquisaCampos">

		<h:panelGrid columns="1" style="width:50%">

			<p:outputLabel for="descricaoPesquisa" value="Nome" />
			<p:inputText id="descricaoPesquisa" value="#{mbeanPesquisaModel.nome}" styleClass="coluna90" />

		</h:panelGrid>

	</ui:define>

	<ui:define name="colunasTabela">

		<p:column headerText="Nome">
			<h:outputText value="#{linha.nome}" />
		</p:column>

	</ui:define>


</ui:composition>